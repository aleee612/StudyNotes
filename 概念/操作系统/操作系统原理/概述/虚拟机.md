### 虚拟机VM
- 一种通过软件模拟真实计算机功能的 **虚拟化技术**
- 能够在一台物理主机上创建多个独立的虚拟计算机环境。
- 每个虚拟机都具备与真实硬件相似的运行环境，可以运行独立的操作系统和应用程序，仿佛它们运行在专属的物理设备上。
- 这种技术广泛应用于服务器整合、测试开发、跨平台应用等场景。
![[Pasted image 20260115145007.png]]

### 虚拟机监视器 Hypervisor(别名VMM）
- 是 **虚拟化技术** 的核心组件，运行在物理主机和虚拟机之间的中间软件层。
- 负责协调和管理多个虚拟机，使它们能够共享底层 **物理硬件资源**，同时保持彼此 **隔离**。

Hypervisor 的主要职责包括：
1. **创建与管理虚拟机**：为每个虚拟机分配独立的 **虚拟化硬件资源**（如 CPU、内存、存储和网络）。
2. **硬件资源抽象**：通过虚拟化技术，Hypervisor 将 **物理硬件资源抽象化**，使每个虚拟机认为自己独占硬件资源，从而运行独立的操作系统。
3. **隔离与安全**：确保虚拟机之间的运行互不干扰，增强系统安全性。

**Hypervisor 的特权级**:
- Hypervisor 通常运行在比操作系统更高的 **特权级**（如硬件虚拟化支持的 **VMX root mode** 或 **Ring -1**），以便有效管理虚拟机及其资源。
- 相比之下，虚拟机中的操作系统通常运行在较低的特权级（如 **Ring 0**）。
- 这种特权级差异确保 Hypervisor 能够完全控制硬件资源并协调多个虚拟机的运行，而不会与虚拟机中的操作系统发生冲突。

> [!warning] **特权级如何理解？**
> **特权级别**（Privilege Levels)：
> 针对对象：现代处理器（如 x86、ARM）
> 提供支持对象：硬件
> 用途：区分操作系统、应用程序和更底层的管理程序的执行权限
> 
> 这些级别通常通过“环”（Rings）或类似的模式划分：
>1. **Ring 0**：操作系统内核运行的级别，具有最高权限，可以直接访问硬件资源（如 CPU、内存）。
>2. **Ring 1~3**：用户态应用程序运行的较低权限级别，无法直接操作硬件。
>3. **虚拟化扩展**：现代处理器引入了更高权限的模式（如 x86 的 **VMX root mode** 或 ARM 的 **EL2**），专为虚拟机监视器（Hypervisor/VMM）设计。

