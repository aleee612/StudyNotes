# 基本概念
- [[cpu]]停止处理正在运行的程序保留现场后去处理相应事件，结束后回到之前断点继续执行的过程
## 特点
1. 随机性：可能随时出现
2. 可恢复性：完成中断后返回原点继续执行
3. 自动性：中断发生后的行为是os自动完成的
--- 
## PSW程序状态字[[寄存器]]
### 作用
- 判断当前应该进入哪个状态（用户态，内核态）并告诉os（特权指令）
- 控制指令执行顺序
### 主要内容
1. 指令地址：程序当前执行指令的地址，有些机器会放在[[程序计数器PC]]中
2. 条件码：用于指示当前指令执行情况
3. 目态/管态：指示[[cpu]]工作状态（用户态，内核态）
4. 中断屏蔽位：区分优先级，防止干扰
5. 寻址方式、编址、保护键
6. 响应中断的内容
--- 
# 中断的作用
 1. 实现[[cpu]]与IO设备并行工作
 2. 实现硬件故障处理
 3. 实现人- 机通信
 4. 实现多道程序和分时操作
 5. 实现实时处理
 6. 实现应用程序和操作系统的联系
	 - 在用户程序中安排一条trap指令可进入操作系统，实现程序和操作系统的联系，称为软中断
 7. 实现[[多处理机系统]]中处理机之间的关系
	 - 在[[多处理机系统]]中，处理机和处理机之间的信息传递和任务切换也是通过中断实现

---
# 中断的类型

### **外中断**（External / Hardware Interrupt）
- 源于 **外部设备**，比如键盘、鼠标、磁盘、网络等。
- 也叫 **硬件中断**。

### **内中断**（Internal / Software Interrupt）
- 又称异常/同步中断
- 源于 **[[cpu]] 内部** 或 **软件指令**，比如非法操作、除零错误，或者系统调用
- 陷阱（trap）：陷入指令引发，应用程序故意引发
- 故障（falt）：错误条件引发
- 终止：致命错误

---

# 机制原理（响应过程）

1. 检测中断信号（发现中断源）
2. 查询“中断向量表”