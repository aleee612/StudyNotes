> sizeof(a) / sizeof(int)为什么获取不了a[]的长度？

- 关键点就在于：a 到底是不是数组本体？
### 为什么有时候可以用？（在定义处）
```cpp
int a[10]; 
printf("%zu\n", sizeof(a) / sizeof(int));
```
- `a` 是“真正的数组”
- `sizeof(a)` 得到整个数组的字节数（40 字节）
- 除以一个 int 的大小 → 就是 10
没毛病。
---
### 为什么在函数里就完全不行？
```cpp
void foo(int a[]) 
{     
	printf("%zu\n", sizeof(a) / sizeof(int)); 
}
```
这里的 a 是什么？
- **不是数组。**
- 在函数参数中：`int a[] int a[10] int *a`
	这三个完全一样，全部都是指针
- 所以：`sizeof(a) = sizeof(int*)`
	在 64 位机器上一般是 8 字节，所以计算出来永远是`8 / 4 = 2（错了）`
---
### 更关键一点：指针没有“它指向的数组多大”的信息
因为 C 语言的设计哲学是：
> “指针只知道起点，不知道终点。”
- “能知道大小”只发生在数组**本体定义**那一瞬间
- 所以当数组传给函数时：`a -> 指向数组的第 0 个元素`
- 但：
	- 指针不知道你原本数组大小
	- 也没任何机制记录这个信息
	- sizeof 当然查不出来