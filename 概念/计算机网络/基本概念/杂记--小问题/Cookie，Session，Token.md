### 对比

| 概念        | 核心作用                                        | 认证模式                |
| :-------- | :------------------------------------------ | :------------------ |
| *Cookie*  | **传输载体**，存储在客户端，用于携带少量信息，如Session ID或Token。 | 载体                  |
| *Session* | **服务器端状态存储**，用于保存用户登录状态、购物车等信息。             | **Stateful (有状态)**  |
| *JWT*     | 一种标准的Token格式，包含Header、Payload、Signature。    | **Stateless (无状态)** |

---
#### Cookie 与 Session 的关系
有状态的组合：
*   **Cookie是Session ID的载体：** 当用户首次登录成功，服务器会生成一个唯一的 **Session ID**，并将用户的状态存储在服务端。
*   **传输机制：** 服务器将这个 **Session ID** 打包成一个特殊的 **Cookie**（默认命名为 `JSESSIONID`）发送给浏览器。
*   **后续请求：** 浏览器在每次后续请求中都会自动带上这个 `JSESSIONID` Cookie。
*   **后端需要认证的处理：** Java后端通过解析这个Cookie，找到Session ID，然后**查询服务器端的存储**，恢复用户状态。
#### JWT 与 Cookie 的关系
无状态的组合：
- **Token 的生成：** 当用户首次登录成功，Java 后端会生成JWT字符串。
- **传输机制：** 服务器将这个完整的 **JWT 字符串** 打包成一个自定义名称的 **Cookie**（例如命名为 access_token），并通过 Set-Cookie 响应头发送给浏览器。
- **后续请求：** 浏览器在每次后续请求中，会自动带上这个包含 JWT 字符串的 Cookie。
- **后端需要认证的处理：** Java 后端通过解析这个 Cookie，取出 JWT 字符串，然后**立即进行签名校验**。如果校验通过，则直接从 JWT 的 Payload 中获取用户信息。
#### 异同与选型
Session有状态，JWT无状态。