> **边界**”就是：  
> **一条消息在哪里开始、在哪里结束。**
> 可以把“数据”想象成一段话。  
> ——有的协议能告诉你“这句话结束了”，有的不能。
### 因为 TCP 必须可靠，所以它不能保留边界
> 想保证“消息边界”，就不能拆包；想保证“可靠传输”，就必须拆包
- UDP 不可靠 → 可以天然保留边界  
- TCP 要可靠 → 注定不能保留边界
#### MTU 限制：太大了必须拆
- 假设你 send 10 KB ，但底层一个包最多只能传 1500 bytes ，它会拆成很多小包，上层 send() 的“消息”自然没边界了
#### Nagle 算法：太小了会合并
- 你 send 很小的消息，比如几个字节，多个 send() 会被合并成一个 TCP segment（减小网络压力）