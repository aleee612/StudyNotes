### 往返事件的估计与超时
#### 判定超时计算方法：计算RTO
1. 报文段样本[[往返时间（RTT）|RTT]]：`SampleRTT` 
	- 测试范围：报文交给IP -> 报文段确认被收到
	- 仅为某个时刻做SampleRTT测量**而非每个报文段都测**
	- 绝不为**重传的报文**计算SampleRTT
2. SampleRTT平均值：`EstimatedRTT` 
	- $EstimatedRTT = (1-α) · EstimatedRTT + α · SampleRTT$ 
	- α 的推荐值为 0.25
	- EstimatedRTT对**最近**的样本赋予的权值要大于对旧样本赋予的权值
3. RTT偏差：`DevRTT` 
	- $DevRTT = (1+β)· DevRTT + β · | SampleRTT - EstimatedRTT |$
	- SampleRTT波动小 -> DevRTT小
	- β 推荐值为 0.25
	- 作用：覆盖常见的 RTT 波动，以免过早触发重传
4. 设置和管理重传超时间隔
	- 超时间隔 >= EstimatedRTT
	- 最终RTO： $TimeoutInterval = EstimatedRTT+4·DevRTT$
#### 计时方法：重传定时器
1. 发送一个报文段时，TCP 启动这个报文段对应的 **重传定时器**。
2. 如果在重传超时间隔内没有收到 ACK：
    - 定时器触发 → TCP 重传这个报文段。
    - 同时通常会进行 **指数退避**：下一次 RTO 会翻倍，以防网络拥塞。
3. 如果在重传超时间隔之前收到 ACK：
    - 定时器取消，不触发重传。

---
### 自动重传请求协议（ARQ）
#### 处理差错情况的三种功能
##### 差错检测
- 检测何时出现比特差错
##### 接收方反馈
- 唯一途径：接收方提供反馈信息（1比特，ACK与NAK分组）给发送方
##### 重传
- 有误则重传