
![[Pasted image 20251014094232.png]]
1. 一次握手客户端发送：
	1. SYN = 1，
	2. 初始[[序号和确认号|序号]]：seq = client_isn
2. 二次握手连接在服务器被允许
	服务器端：
		分配TCP缓存和变量
		发送*SYN ACK报文段*：
			SYN = 1，
			[[序号和确认号|确认号]]：ack = client_isn + 1，
			初始[[序号和确认号|序号]]：seq = server_isn
3. 三次握手
	客户端：
		分配缓存和变量
		发送：
			SYN：0，
			[[序号和确认号|序号]]：seq = client_isn + 1，
			[[序号和确认号|确认号]]：ack = server_isn，
			此时可以携带数据
4. 由此三次握手结束，以后的每一个报文中SYN都为0
5. 认为在三次握手中RTT为1.5，但在步骤3时即可以开始传