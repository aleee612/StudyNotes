## 基础概念

- `useXxx` 是 React 为了支持**函数式组件拥有状态和副作用能力**而设计的一种机制，命名规范就是以 `use` 开头。
- 只要是**以** `**use**` **开头**、**遵守 Hook 的规则**，并**用于 React 函数组件中的函数**，那它就是 Hook。
- 如果你写了个函数叫 `useSomething()`，但它没用任何 Hook（像 `useState`、`useEffect` 等），那它语法上是 Hook，功能上却啥都不是。虽然不会报错，但也没什么意义。

# 使用规则

1. 只能在组件中或者其他自定义Hook函数中调用
2. 只能在组件的顶层调用，不能嵌套在 if、for、其他函数中

3. React 内部是**根据 Hook 调用的顺序**，来管理状态的。

```
function Comp() {
  const [a, setA] = useState(1); // 第1个useState
  const [b, setB] = useState(2); // 第2个useState
}
```

React 会记住：

- 第一个状态是 `a`
- 第二个状态是 `b`

如果你有条件判断，会导致调用顺序变了：

```
function Comp() {
  if (Math.random() > 0.5) {
    useState(1); // 有时候有这个useState，有时候没有
  }
  useState(2); // React现在搞不清这是第几个useState了！💥
}
```

React 会懵了，不知道该怎么匹配状态位置，这样就可能导致 bug 或错误。