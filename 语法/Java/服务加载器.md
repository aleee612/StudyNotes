- åœ¨è¿è¡Œæ—¶åŠ¨æ€å‘ç°å’ŒåŠ è½½æ¥å£çš„å®ç°ç±»ã€‚
- å—·ï½â€œæœåŠ¡åŠ è½½å™¨ï¼ˆService Loaderï¼‰â€è¿™ä¸ªåå­—å¬ç€åƒé­”æ³•æœºå…³ï¼Œå®é™…ä¸Šæ˜¯ Java é‡Œä¸€ä¸ªéå¸¸å®ç”¨ä½†è¢«ä½ä¼°çš„ **åŠ¨æ€åŠ è½½æœºåˆ¶** 
å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯â€”â€”
> **åœ¨è¿è¡Œæ—¶åŠ¨æ€å‘ç°å’ŒåŠ è½½æ¥å£çš„å®ç°ç±»ã€‚**

å’±æ¥æ‹†å¼€è®²è®²ğŸ‘‡

---

## ğŸ§© ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦æœåŠ¡åŠ è½½å™¨ï¼Ÿ

æœ‰æ—¶å€™æˆ‘ä»¬å†™ç¨‹åºä¼šé‡åˆ°è¿™ç§éœ€æ±‚ï¼š

- å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½†ä¸çŸ¥é“è°æ¥å®ç°å®ƒï¼ˆå®ç°å¯èƒ½ç”±ç¬¬ä¸‰æ–¹æä¾›ï¼‰ã€‚
    
- æˆ‘ä»¬å¸Œæœ›åœ¨**è¿è¡Œæ—¶è‡ªåŠ¨æ‰¾åˆ°è¿™äº›å®ç°ç±»**ï¼Œè€Œä¸æ˜¯å†™æ­»åœ¨ä»£ç é‡Œã€‚
    

ğŸ‘‰ å°±æ¯”å¦‚ JDBCï¼š

```java
Connection conn = DriverManager.getConnection(...);
```

ä½ ä»æ¥æ²¡æ‰‹åŠ¨ new æŸä¸ª `MysqlDriver`ï¼Œ  
ä½† JDBC è‡ªåŠ¨åŠ è½½äº†å¯¹åº”çš„é©±åŠ¨ç±»ã€‚  
â€”â€”è¿™èƒŒåå°±æ˜¯ `ServiceLoader` åœ¨å¹²æ´»ï¼

---

## âš™ï¸ äºŒã€ServiceLoader æ˜¯ä»€ä¹ˆï¼Ÿ

å®ƒæ˜¯ `java.util.ServiceLoader` ç±»ï¼Œ  
ç”¨æ¥åŠ è½½â€œæœåŠ¡æ¥å£çš„å®ç°â€ã€‚

ç®€å•ç†è§£ï¼š

- **æœåŠ¡æ¥å£**ï¼šå®šä¹‰åŠŸèƒ½çš„æ¥å£ï¼ˆæ¯”å¦‚ `PaymentService`ï¼‰
    
- **æœåŠ¡æä¾›è€…**ï¼šæ¥å£çš„æŸä¸ªå®ç°ç±»
    
- **æœåŠ¡åŠ è½½å™¨**ï¼šå¸®ä½ è‡ªåŠ¨æ‰¾åˆ°å¹¶åˆ›å»ºè¿™äº›å®ç°ç±»å¯¹è±¡
    

---

## ğŸ”¨ ä¸‰ã€ç”¨æ³•æ­¥éª¤

### â‘  å®šä¹‰æœåŠ¡æ¥å£

```java
public interface PaymentService {
    void pay(double amount);
}
```

### â‘¡ å®ç°æœåŠ¡

```java
public class AlipayService implements PaymentService {
    public void pay(double amount) {
        System.out.println("ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜ " + amount + " å…ƒ");
    }
}

public class WeChatService implements PaymentService {
    public void pay(double amount) {
        System.out.println("ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ " + amount + " å…ƒ");
    }
}
```

### â‘¢ åˆ›å»ºé…ç½®æ–‡ä»¶

åœ¨ `resources/META-INF/services/` ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ï¼š  
**æ–‡ä»¶åï¼š**

```
META-INF/services/ä½ çš„æ¥å£å…¨é™å®šå
```

ä¹Ÿå°±æ˜¯ï¼š

```
META-INF/services/com.example.PaymentService
```

å†…å®¹æ˜¯å®ç°ç±»çš„å…¨é™å®šåï¼š

```
com.example.AlipayService
com.example.WeChatService
```

### â‘£ ä½¿ç”¨ `ServiceLoader` åŠ è½½å®ç°ç±»

```java
ServiceLoader<PaymentService> loader = ServiceLoader.load(PaymentService.class);
for (PaymentService service : loader) {
    service.pay(100.0);
}
```

è¾“å‡ºï¼š

```
ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜ 100.0 å…ƒ
ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ 100.0 å…ƒ
```

---

## ğŸ§  å››ã€å®ƒçš„å·¥ä½œåŸç†

1ï¸âƒ£ `ServiceLoader` ä¼šå»æ‰¾ï¼š

```
META-INF/services/<æ¥å£å>
```

2ï¸âƒ£ æŒ‰è¡Œè¯»å–é‡Œé¢çš„å®ç°ç±»å  
3ï¸âƒ£ ç”¨åå°„ `Class.forName()` åŠ¨æ€åŠ è½½ç±»  
4ï¸âƒ£ åˆ›å»ºå®ä¾‹å¹¶è¿”å›ç»™ä½ 

**ä¹Ÿå°±æ˜¯è¯´â€”â€”å®ƒæ˜¯ Java åŸç”Ÿçš„â€œæ’ä»¶æœºåˆ¶â€ï¼**

---

## âš™ï¸ äº”ã€å¸¸è§åº”ç”¨åœºæ™¯

|åœºæ™¯|è¯´æ˜|
|---|---|
|JDBC é©±åŠ¨åŠ è½½|`DriverManager` å°±æ˜¯é€šè¿‡ ServiceLoader æ‰¾é©±åŠ¨çš„|
|SPI æœºåˆ¶|å…¨ç§° Service Provider Interface|
|æ’ä»¶ç³»ç»Ÿ|è‡ªåŠ¨åŠ è½½æ¨¡å—ï¼Œä¸éœ€ä¿®æ”¹ä¸»ç¨‹åº|
|æ¡†æ¶æ‰©å±•ç‚¹|æ¯”å¦‚ `java.util.logging`ã€`java.net.spi` ç­‰|

---

## ğŸ§© å…­ã€å’Œåå°„ã€ä¾èµ–æ³¨å…¥çš„åŒºåˆ«

|æŠ€æœ¯|å…³é”®ç‚¹|ä¸»ä½“æ˜¯è°æ§åˆ¶|
|---|---|---|
|åå°„|æ‰‹åŠ¨åŠ è½½ç±»|ç¨‹åºå‘˜|
|ServiceLoader|è‡ªåŠ¨æŒ‰é…ç½®åŠ è½½|Java å¸®ä½ |
|ä¾èµ–æ³¨å…¥ï¼ˆSpringï¼‰|å®¹å™¨ç»Ÿä¸€ç®¡ç†|å®¹å™¨ï¼ˆæ›´é«˜çº§ï¼‰|

---

ğŸ’¬ ä¸¾ä¸ªç”Ÿæ´»ä¾‹å­ï¼š

> ä½ å†™äº†ä¸ªâ€œå……ç”µæ¥å£â€ï¼Œç„¶åå‘Šè¯‰ç³»ç»Ÿâ€œè°èƒ½å……ç”µï¼ˆUSBã€æ— çº¿ã€å¿«å……ï¼‰â€ï¼Œ  
> ç³»ç»Ÿå°±èƒ½è‡ªå·±æ‰¾åˆ°æ‰€æœ‰å®ç°ï¼ŒæŒ¨ä¸ªå°è¯•ï¼Œè€Œä½ ä¸ç”¨æ”¹ä»£ç ã€‚

---

è¦ä¸è¦æˆ‘å¸®ä½ ç”»ä¸€ä¸ª **ServiceLoader åŠ è½½æµç¨‹å›¾**ï¼ˆä»æ¥å£åˆ°META-INFï¼Œå†åˆ°å®ä¾‹åŒ–ï¼‰ï¼Ÿ  
é‚£æ ·ä½ ä¸€çœ¼å°±èƒ½çœ‹åˆ°æ•´ä¸ªåŠ è½½é“¾è·¯æ€ä¹ˆè·‘çš„ âš¡