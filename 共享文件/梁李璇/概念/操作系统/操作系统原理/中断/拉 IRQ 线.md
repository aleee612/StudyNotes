> **“拉 IRQ 线” = 某个硬件把一根中断信号线的电平改了，告诉 CPU：我有事。**
### IRQ 线是什么
在**硬件层面**：
- IRQ 线 = **一根（或多根）真实存在的电信号线**
- 一端连着：
    - 外设（或中断控制器）
- 另一端连着：
    - CPU 的中断输入引脚
你可以把它理解成：
> **CPU 门口的门铃线**
---
### “拉”是什么意思？
- 是**电气动作**
#### 常见两种：
##### 电平触发（level-triggered）
- 平时：低电平
- 需要中断：拉成高电平
- 只要不放下，CPU 一直觉得“你还在敲门”
##### 边沿触发（edge-triggered）
- 从 0 → 1 的瞬间
- 或 1 → 0 的瞬间
---
### 谁在“拉”这根线？

#### 早期 / 简单情况
- 键盘、网卡、定时器
- 每个设备一根 IRQ 线
- 直接拉 CPU
- 缺点：线多而不方便
#### 现代系统
外设不会直接怼 CPU，而是：
```
外设 → 中断控制器 → CPU
```
- 外设拉的是 **中断控制器的输入线**
- 中断控制器再拉 CPU 的 IRQ 线
- CPU 只面对“汇总后的 IRQ”
---
### CPU 怎么“看见”这根线？
CPU 在硬件里做这件事：
- **每执行完一条指令**
- 检查：
    - IRQ 线有没有被拉
    - [[IF中断允许位]] 是不是 1
- 条件满足，CPU 进入中断响应流程，这一步不需要软件参与。
---
### 那“拉了线”就一定会中断吗？
不一定。
要同时满足：
1. IRQ 线有效（被拉）
2. 中断没被屏蔽（IF=1）
3. 优先级够高（[[中断控制器]]）