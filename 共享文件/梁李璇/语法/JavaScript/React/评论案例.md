```
// 渲染评论列表
// 使用useState维护list

function Commentcase()
    return (
        <div className="Commentcase">
            
        </div>
    );
}

export default Commentcase;
```

```
import React, { useState } from 'react';
import './Com.css'; // 引入 CSS 样式

function Commentcase() {
    const [comments, setComments] = useState([
        { id: 1, author: '用户1', content: '这是一个很好的功能！', time: '2023-10-01 10:00:00' },
        { id: 2, author: '用户2', content: '这个功能对我的帮助很大！', time: '2023-10-01 11:00:00' }
    ]);//定义初始列表

    const [newComment, setNewComment] = useState('');//新增评论的初始列表，定义为空

    const addComment = () => { // 一个大的添加评论回调函数
        if (newComment.trim() === '') return; // 不允许传输空评论
        const newCommentObj = { //行内样式控制
            id: comments.length + 1,
            author: 'aleee',
            content: newComment,
            time: new Date().toLocaleString()
        };
        setComments([newCommentObj, ...comments]); // 回调函数中调用setComments和setNewComment，达到修改的效果
        //将newCommentObj样式控制传给newComment
        //如果 comments 在某些时候可能是 undefined 或 null ，就需要做容错
        setNewComment('');
    };

    const deleteComment = (id) => { // 一个删除评论回调函数
        setComments(comments.filter(comment => comment.id !== id));
    };//遍历 comments 数组，对每个 comment 进行检查，只有 id 不等于要删除的 id 的评论才会保留下来，形成一个新的数组

    return (
        <div className="Commentcase">
            <div className="comment-list"> 
                {/*对应Com.css中的样式*/}
                {comments.map(comment => (
                    /*遍历 comments 数组；
                    每个 comment 返回一个元素；
                    最终得到一个新的 数组，让 React 渲染成 HTML 列表。*/
                    <div key={comment.id} className="comment-item">
                        <div className="comment-header">
                            <span className="comment-author">{comment.author}</span>
                            <span className="comment-time">{comment.time}</span>
                            <button 
                                className="delete-btn"
                                onClick={() => deleteComment(comment.id)}
                            >
                                删除
                            </button>
                        </div>
                        <div className="comment-content">
                            {comment.content}
                        </div>
                    </div>
                ))}
            </div>

            <div className="add-comment">
                <input
                    type="text"
                    value={newComment}
                    onChange={(e) => setNewComment(e.target.value)}
                    placeholder="请输入评论..."
                />
                <button onClick={addComment}>提交评论</button>
            </div>
        </div>
    );
}

export default Commentcase;
```

```
.Commentcase {
    max-width: 800px;
    margin: 20px auto;
    padding: 20px;
}
.comment-list {
    margin-bottom: 20px;
}
.comment-item {
    background: #f5f5f5;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 10px;
    display: flex;
    flex-direction: column;
}
.comment-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
}
.comment-author {
    font-weight: bold;
    color: #333;
}
.comment-time {
    color: #666;
    font-size: 0.8em;
}
.delete-btn {
    background: none;
    border: none;
    color: #666;
    cursor: pointer;
    font-size: 0.8em;
}
.delete-btn:hover {
    color: #ff4444;
}
.add-comment {
    display: flex;
    gap: 10px;
}
.add-comment input {
    flex: 1;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
}
.add-comment button {
    padding: 8px 20px;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
.add-comment button:hover {
    background: #45a049;
}
```

这个案例包括以下功能：

1. 初始评论列表：包含两条示例评论
2. 添加评论功能：

- 用户可以在输入框中输入评论内容
- 点击"提交评论"按钮后，新的评论会被添加到列表顶部
- 新评论包含唯一的id、作者、内容和时间

3. 删除评论功能：

- 每条评论右侧都有一个"删除"按钮
- 点击后可以删除对应的评论