---
aliases:
  - final
  - var
  - static
  - main
---

## 类
### 声明
```java
public class ClassName
{
	public ClassName()
	{
	...//构造函数
	}
}
```
### 构造器
1. 与类同名
2. 将实例字段初始化为所希望的初始状态
3. 构造器总是和new运算符结合调用，不能对已存在的对象调用
4. 不要在构造器中定义与实例字段同名的局部变量，数据会无法传给this.name（目前jdk8+不会报严重错误）
e.g：
```java
...
private String name;
public Employee(String n,...)
{
	String name = n;//error
}
```
5. 构造器可以重载
6. 构造器中如果没有显式地为字段设置初值，那么就会被自动地赋为默认值：
	- 数值：0
	- boolean：false
	- 对象：null
7. 调用另一个构造器：`this(...)`
```java
public Emp(double s)
{
	//call Emp(String,double)
	this("Emp #" + nextId,s);
	nextId++;
}
```
### 更改器与访问器
1. 更改器方法
	- 一种类中的函数方法，调用方法后对象的状态会发生改变
2. 访问器方法
	- 一种类中的函数方法，只访问对象而不修改对象的方法
3. 在cpp中，带有const后缀的方法是访问器方法，而没有的则为更改器方法；在Java中则没有这种语法区别
### 声明局部变量：var
```java
var harry = new Emp();
```
- 作用：避免重复写类型名
- var关键字只能用于方法中的局部变量，参数和字段的类型必须声明
### 隐式参数与显式参数
![[041e5ed1144f93798a8215f403293344.png]]
1. 隐式参数：在类中定义的**变量**，可以用this.修饰以区分显式参数
2. 显式参数：列在方法声明中的参数
### final实例字段
```java
class Emp
{
	private final String name;
	...
}
```
- 这样的字段必须在构造对象时初始化，并以后不能再修改这个字段
### 静态字段/方法
#### 静态字段（类字段）
```java
class Emp
{
	private static int nextId = 1;
	private int id;
}
```
- nextId属于类，不属于任何单个对象
- 即使对象未创建，nextId字段也存在
#### 静态常量
```java
class Math
{
	public static final double PI = 3.1415926;
}
```
- 顾名思义，即描述的为常量
- 可以直接使用`Math.PI`来访问这个常量
- 定义为final后不用担心该常量被类对象修改
#### 静态方法（类方法）
```java
public static int getNextId()
{
	return nextId;
}
```
- 静态方法无法访问实例字段，因为它不能在对象上操作
- 静态方法可以访问静态字段，因为这是类字段
- 可以认为静态方法是没有this参数的方法，因为隐式参数的要求是变量
- 可以使用对象调用静态方法，只不过无法修改对象而已
- 使用静态方法的场景：
	- 不需要访问对象状态，所需参数都通过显示参数提供
	- 方法只需要访问类的静态字段
#### 工厂方法
- 静态方法的一种用途，使用工厂方法来构造对象，实际上返回的是类的对象（子类之类的）
- 可以避开构造器得到名字不同（？）
#### main方法
```java
public class Application
{
	public static void main(String[] args)
	{
	...
	}
}
```
- main方法也是一种静态方法
- 每个类都可以有一个main方法，单独测试类的时候可以使用`java ClassName`,而想运行更大的应用程序则可以使用`java Application`，此时类中的main方法永远不会执行
### 方法
#### 方法参数
- 方法不能修改基本数据类型的参数
- 方法可以改变对象参数的状态
- 方法不能让一个对象参数引用一个新的对象
#### 方法签名
- 要完整地描述一个方法，需要指定方法名及其参数类型
- e.g：`indexOf(int),indexOf(int,int),indexOf(String)`
- 而返回值不是方法签名的一部分
---
## 对象
#### 声明
```java
ClassName object = new ClassName();
```
- 新实例/对象的构造需要使用**构造器**，构造器名与类名相同，使用new操作符
#### 对象变量
```java
Date ddl = new Date();
Date bth = ddl;
```
- 此时两个变量都引用同一个对象
```java
ddl = null;
...
if(ddl != null)
	System.out.println(ddl);
```
- 此时该对象变量没有引用任何对象
- 由此可见，java中的变量对象并不直接相当于cpp中的引用。在cpp中没有null引用且引用不能赋值
- 可以将对象变量视为cpp中的对象指针，即：
```cpp
Date* bth;
Date* bth = new Date();
```
#### 克隆对象
- 由前面我们可以得知，Java中的`=`并没有克隆作用，要想得到对象的完整副本需使用clone方法（在类中重载，手动编写）
- 浅拷贝：类似引用，会改变原对象
- 深拷贝：不会改变原对象
- 深浅拷贝的区别主要是对于**引用数据类型**而言，基本数据类型都不会改变
#### 实例对象
- 是定义在类内部、但在方法外部的变量。它代表了每个对象独有的"状态"或"特征"。
- 其实就是成员变量