## 使用规则

- 支持`if`、`else`和`else if`语句。
- 允许在**[[容器]]组件内**使用，通过条件渲染语句**构建不同的子组件**。
- 条件渲染语句在涉及到组件的父子关系时是“透明”的，当父组件和子组件之间存在一个或多个if语句时，必须**遵守父组件关于子组件使用的规则**。
- 每个分支内部的构建函数必须遵循构建函数的规则，并创建一个或多个组件。无法创建组件的空构建函数会产生语法错误。

## 更新机制

当if、else if后跟随的状态判断中使用的状态变量值变化时，条件渲染语句会进行更新，更新步骤如下：

1. 评估if和else if的状态判断条件，如果分支没有变化，无需执行以下步骤。如果分支有变化，则执行2、3步骤。
2. 删除此前构建的所有子组件。
3. 执行新分支的构造函数，将获取到的组件添加到if父容器中。如果缺少适用的else分支，则不构建任何内容。

条件可以包括Typescript表达式。对于构造函数中的表达式，此类表达式不得更改应用程序状态。

## 使用场景

### 使用if进行条件渲染

```
@Entry
  @Component
  struct MyComponent {
    @State count: number = 0;
    build() {
      Column() {
        Text(`count=${this.count}`)
        if (this.count > 0) {
          Text(`count is positive`)
            .fontColor(Color.Green)
        }
        Button('increase count')
          .onClick(() => {
            this.count++;
          })
        Button('decrease count')
          .onClick(() => {
            this.count--;
          })
      }
    }
  }
```

if语句的每个分支都包含一个构建函数。此类构建函数必须创建一个或多个子组件。在初始渲染时，if语句会执行构建函数，并将生成的子组件添加到其父组件中。

1. **“if语句的每个分支都包含一个构建函数”**  
    ArkTS 的 UI 渲染语法（使用 `@Entry`、`@Component` 标记）里，`if` **分支并不是普通逻辑语句**，它们在编译时会被“转译”为不同的 UI 节点结构（组件树的一部分）。  
    每个 `if`、`else if`、`else` 块里的代码，其实都会被**封装为一个构建函数**（builder function）。示例：

```
if (this.showText) {
  Text('Hello')  // 构建函数里生成的子组件
} else {
  Text('Goodbye')  // 另一个构建函数生成的子组件
}
```

2. **“此类构建函数必须创建一个或多个子组件”**  
    每个分支 **必须产生 UI 节点**（比如 Text、Image、Row 等），因为 ArkTS 的渲染机制依赖这些构建函数去更新组件树。如果你写了 `if` 分支，但里面没有组件构建（只是执行了逻辑或空代码），会被判为无效/编译警告。
3. **“在初始渲染时，if语句会执行构建函数，并将生成的子组件添加到其父组件中。”**  
    在第一次渲染的时候，ArkTS 会判断 `if` 条件，然后执行对应分支里的构建函数（也就是你写的 UI 元素），并把这些子组件“挂载”到对应的父组件上。
4. 在 ArkTS 中，如果某个 `if` 或 `else` 分支 **条件不成立**，那么：**它对应的构建函数不会执行，对应的子组件也不会生成**