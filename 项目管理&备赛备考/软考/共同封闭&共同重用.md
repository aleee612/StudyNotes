
### 1. 共同封闭（Common Closure Principle, CCP）
- **概念**：把那些容易一起修改的类、模块或者功能放在同一个模块里。
- **目的**：降低修改引起的连锁影响，提高系统的可维护性。
- **核心思想**：
    - “变更的原因应该封闭在一个模块里。”
    - 如果某些类总是一起修改，就把它们放在同一个文件或模块中。
- **例子**：
    - 假设你有三个类：`User`、`Admin`、`Guest`，它们都依赖于身份验证逻辑。如果身份验证规则修改，三个类都要改。按CCP原则，把它们放在同一个模块中，可以让修改集中，降低出错几率。
---
### 2. 共同重用（Common Reuse Principle, CRP）
- **概念**：把那些会一起被重用的类、模块或者功能放在同一个模块里。
- **目的**：提高模块的可重用性，减少不必要的依赖。
- **核心思想**：
    - “使用模块的人应该只得到他们需要的功能，不要因为依赖而引入不必要的类。”
    - 如果某些类总是一起被使用，就把它们放在同一个模块中。
- **例子**：
    - 你有`Payment`模块，其中包括`CreditCardPayment`、`PayPalPayment`、`InvoicePayment`。这些类经常一起在不同项目中使用，把它们放在一个模块里，方便重用。
---
### 🔹 核心区别

| 原则       | 关注点   | 目标               |
| -------- | ----- | ---------------- |
| 共同封闭 CCP | 修改    | 降低修改时的影响、易维护     |
| 共同重用 CRP | 使用/重用 | 提高模块可重用性、避免不必要依赖 |
**直观理解**：
- **CCP** 是“改东西的时候，一起改的放在一起”。
- **CRP** 是“用东西的时候，一起用的放在一起”。
> 有时会冲突：
> - 某些类经常一起改，但并不总是一起用 → CCP 放一起，CRP 却可能希望拆开。
- 设计时需要权衡：你是更关注未来维护，还是重用性。